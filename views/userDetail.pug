extends layouts/main
include mixins/videoBlock

block content
    .user-profile
        .user-banner#jsUserBanner
            if user.bannerUrl 
                .user-banner-img(style=`background-image: url('/${user.bannerUrl}');`)
            else 
                .user-banner-img
        .user-profile__header#jsPofileHeader
            .user-box
                .wrap-u-avatar
                    if user.avatarUrl
                        if user.avatarUrl.substring(0,4) === "http"
                            .u-avatar(style=`background-image: url('${user.avatarUrl}');`)
                        else
                            .u-avatar(style=`background-image: url('/${user.avatarUrl}');`)
                    else
                        .u-avatar
                .userInfo
                    .wrap-username
                        h4.user-profile__username=user.name
                    if loggedUser && user.id == loggedUser.id
                        .user-profile__btns
                            a(href=`/users${routes.editProfile}`)
                                button Edit Profile
                            a(href=`/users${routes.changePassword}`)
                                button Change Password
        nav.user-profile__navigation-bar 
            .navigation-bar__wrap-navigation
                .previousBtn.hidden
                    button
                        i.fas.fa-chevron-left
                ul.navigation-bar__list
                    li#home
                        span Home 
                    li#videos
                        span Videos
                    li#playlists
                        span Playlists
                    li#Channels
                        span Channels
                    li#discussion
                        span Discussion
                    li#about
                        span About
                    li#search
                        span Search
                .nextBtn.hidden
                    button
                        i.fas.fa-chevron-right
            .selected-bar
            //- transform, scaleX
        .uploads.user-profile__video-list
            span.video-list__title Uploads
            .video-list__videos
                each item in user.videos
                    +videoBlock({
                        id: item.id,
                        title: item.title,
                        views: item.views,
                        comments: item.comments,
                        fileUrl: item.fileUrl,
                        description: item.description,
                        creator: user,
                        createdAt: item.createdAt,
                        div: "userDetail"
                    })