extends layouts/main
include mixins/videoBlock

block content
    .user-profile
        .user-profile__header
            if typeof user.avatarUrl !== "undefined"
                if user.avatarUrl.substring(0,4) === "http"
                    .u-avatar(style=`background-image: url('${user.avatarUrl}');`)
                else
                    .u-avatar(style=`background-image: url('/${user.avatarUrl}');`)
            h4.user-profile__username=user.name
        if loggedUser && user.id == loggedUser.id
            .user-profile__btns
                a(href=`/users${routes.editProfile}`)
                    button ‚úè Edit Profile
                a(href=`/users${routes.changePassword}`)
                    button üîí Change Password
        .uploaded-videos
            each item in user.videos
                +videoBlock({
                    id:item.id,
                    title:item.title,
                    views:item.views,
                    videoFile: `/${item.fileUrl}`,
                    creator: user
                })
            